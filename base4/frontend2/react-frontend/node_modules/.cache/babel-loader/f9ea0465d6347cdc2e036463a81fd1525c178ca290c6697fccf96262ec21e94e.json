{"ast":null,"code":"var _jsxFileName = \"/Users/amritareji/Desktop/base3/frontend2/react-frontend/src/MagicLogin.js\",\n  _s = $RefreshSig$();\n// magiclogin.js\nimport React, { useEffect, useState } from \"react\";\nimport { Magic } from \"magic-sdk\";\nimport { ethers } from \"ethers\"; // Import ethers for provider/signer\n\n// IMPORTANT: Replace with your actual Magic Test Key for development\n// For production, ensure pk_live_845610B169B276D7 is the correct production key.\n// For Amoy testnet, ensure you've configured Magic accordingly if not using direct RPC.\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst magic = new Magic(\"pk_live_845610B169B276D7\", {\n  network: {\n    rpcUrl: process.env.REACT_APP_ALCHEMY_AMOY_URL,\n    // Use env variable for Alchemy URL\n    chainId: 80002 // Amoy chain ID\n  }\n});\n\n// IMPORTANT: Replace with your deployed smart contract address\nconst CONTRACT_ADDRESS = \"YOUR_DEPLOYED_CONTRACT_ADDRESS_HERE\";\n// IMPORTANT: Replace with your contract ABI\n// You'll need to import your contract's ABI JSON artifact generated by Hardhat\n// Example: import IdentityABI from './artifacts/contracts/Identity.sol/Identity.json';\n// For now, I'll just put a placeholder for structure.\nconst CONTRACT_ABI = [\n// Example ABI entries - REPLACE WITH YOUR ACTUAL ABI\n\"function registerIdentity(string _name, uint256 _age, string _gender, string _dob, string _aadharHash, string _photoHash) public\", \"function getIdentity(address userAddress) public view returns (string, uint256, string, string, string, string)\"\n// Add other functions if needed\n];\nfunction MagicLogin() {\n  _s();\n  const [user, setUser] = useState(null);\n  const [email, setEmail] = useState(\"\");\n\n  // New state variables for user details\n  const [fullName, setFullName] = useState(\"\");\n  const [age, setAge] = useState(\"\");\n  const [gender, setGender] = useState(\"\");\n  const [dob, setDob] = useState(\"\"); // Date of Birth\n\n  // File states\n  const [aadharFile, setAadharFile] = useState(null);\n  const [photoFile, setPhotoFile] = useState(null);\n  useEffect(() => {\n    (async () => {\n      const isLoggedIn = await magic.user.isLoggedIn();\n      if (isLoggedIn) {\n        const userMetadata = await magic.user.getInfo();\n        setUser(userMetadata);\n      }\n    })();\n  }, []);\n  const handleLogin = async () => {\n    try {\n      await magic.auth.loginWithEmailOTP({\n        email\n      });\n      const userMetadata = await magic.user.getInfo();\n      setUser(userMetadata);\n    } catch (err) {\n      console.error(\"Login error:\", err);\n    }\n  };\n\n  // Generic upload function for Aadhar or Photo\n  const uploadFileToBackend = async (fileToUpload, fileType) => {\n    const formData = new FormData();\n    formData.append(\"file\", fileToUpload);\n    formData.append(\"fileType\", fileType); // Add a type identifier\n\n    try {\n      const res = await fetch(\"http://localhost:5001/upload\", {\n        method: \"POST\",\n        body: formData\n      });\n      const data = await res.json();\n      if (res.ok) {\n        console.log(`📦 ${fileType} IPFS Hash from backend:`, data.ipfsHash);\n        return data.ipfsHash;\n      } else {\n        console.error(`❌ Backend error uploading ${fileType}:`, data.error);\n        alert(`❌ Failed to upload ${fileType}.`);\n        return null;\n      }\n    } catch (err) {\n      console.error(`❌ Error uploading ${fileType} to backend:`, err);\n      return null;\n    }\n  };\n  const registerIdentityOnContract = async data => {\n    try {\n      // Get the provider from Magic\n      const provider = new ethers.BrowserProvider(magic.rpcProvider);\n      // Get the signer (user's Magic wallet)\n      const signer = await provider.getSigner();\n      // Create a contract instance with the signer\n      const identityContract = new ethers.Contract(CONTRACT_ADDRESS, CONTRACT_ABI, signer);\n\n      // Call the smart contract function\n      // Note: For actual gasless transactions via a relayer, this part\n      // might look different, potentially involving an EIP-2771 trusted forwarder setup\n      // or a custom backend that signs and sends.\n      // For simplicity here, we're assuming the Magic wallet directly sends the tx,\n      // or your server's /register endpoint will handle true gasless.\n      // Given your setup, your `server.js`'s `/register` endpoint *should*\n      // be the one interacting with the contract using *your* private key for gas.\n      // So, this frontend part would primarily send the data to the backend.\n\n      // If your server is handling gas, you don't call contract directly here.\n      // Instead, send all data to the backend for the server to handle the contract call.\n      const res = await fetch(\"http://localhost:5001/register\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(data)\n      });\n      const result = await res.json();\n      if (res.ok) {\n        alert(\"✅ Identity successfully registered on-chain!\");\n        console.log(\"Transaction Hash:\", result.transactionHash);\n      } else {\n        console.error(\"❌ Backend error during contract registration:\", result.error);\n        alert(\"❌ Failed to register identity on-chain.\");\n      }\n    } catch (err) {\n      console.error(\"❌ Error registering identity on contract via backend:\", err);\n      alert(\"❌ Error registering identity on contract.\");\n    }\n  };\n  const handleRegister = async () => {\n    if (!fullName || !age || !gender || !dob || !aadharFile || !photoFile) {\n      alert(\"Please fill in all details and upload both Aadhar and Photo.\");\n      return;\n    }\n\n    // Upload Aadhar\n    const aadharIpfsHash = await uploadFileToBackend(aadharFile, \"aadhar\");\n    if (!aadharIpfsHash) return;\n\n    // Upload Photo\n    const photoIpfsHash = await uploadFileToBackend(photoFile, \"photo\");\n    if (!photoIpfsHash) return;\n\n    // Prepare data to send to backend for contract interaction\n    const identityData = {\n      name: fullName,\n      age: parseInt(age),\n      // Ensure age is a number\n      gender,\n      dob,\n      aadharHash: aadharIpfsHash,\n      photoHash: photoIpfsHash,\n      userAddress: user.publicAddress // Pass the user's Magic wallet address\n    };\n    await registerIdentityOnContract(identityData);\n  };\n  const handleLogout = async () => {\n    await magic.user.logout();\n    setUser(null);\n    setEmail(\"\");\n    setFullName(\"\");\n    setAge(\"\");\n    setGender(\"\");\n    setDob(\"\");\n    setAadharFile(null);\n    setPhotoFile(null);\n  };\n  if (user) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Logged in as:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 12\n        }, this), \" \", user.email]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Public Address:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 12\n        }, this), \" \", user.publicAddress]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Register Your Identity\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Full Name\",\n        value: fullName,\n        onChange: e => setFullName(e.target.value),\n        style: {\n          padding: \"8px\",\n          marginBottom: \"8px\",\n          width: \"100%\",\n          boxSizing: \"border-box\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        placeholder: \"Age\",\n        value: age,\n        onChange: e => setAge(e.target.value),\n        style: {\n          padding: \"8px\",\n          marginBottom: \"8px\",\n          width: \"100%\",\n          boxSizing: \"border-box\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Gender\",\n        value: gender,\n        onChange: e => setGender(e.target.value),\n        style: {\n          padding: \"8px\",\n          marginBottom: \"8px\",\n          width: \"100%\",\n          boxSizing: \"border-box\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"date\",\n        placeholder: \"Date of Birth\",\n        value: dob,\n        onChange: e => setDob(e.target.value),\n        style: {\n          padding: \"8px\",\n          marginBottom: \"8px\",\n          width: \"100%\",\n          boxSizing: \"border-box\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"aadhar-upload\",\n        children: \"Upload Aadhar (File):\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        id: \"aadhar-upload\",\n        onChange: e => setAadharFile(e.target.files[0]),\n        style: {\n          padding: \"8px\",\n          marginBottom: \"8px\",\n          width: \"100%\",\n          boxSizing: \"border-box\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"photo-upload\",\n        children: \"Upload Photo (File):\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        id: \"photo-upload\",\n        onChange: e => setPhotoFile(e.target.files[0]),\n        style: {\n          padding: \"8px\",\n          marginBottom: \"8px\",\n          width: \"100%\",\n          boxSizing: \"border-box\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleRegister,\n        style: {\n          marginRight: \"8px\",\n          padding: \"10px 15px\"\n        },\n        children: \"Register Identity\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleLogout,\n        style: {\n          padding: \"10px 15px\"\n        },\n        children: \"Logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"email\",\n      placeholder: \"Enter your email\",\n      value: email,\n      onChange: e => setEmail(e.target.value),\n      style: {\n        padding: \"8px\",\n        marginRight: \"8px\",\n        width: \"calc(100% - 120px)\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleLogin,\n      style: {\n        padding: \"8px 15px\"\n      },\n      children: \"Login with Magic Link\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 235,\n    columnNumber: 5\n  }, this);\n}\n_s(MagicLogin, \"Ly9iwfCLVm35DeI82LQyKqHPyVQ=\");\n_c = MagicLogin;\nexport default MagicLogin;\nvar _c;\n$RefreshReg$(_c, \"MagicLogin\");","map":{"version":3,"names":["React","useEffect","useState","Magic","ethers","jsxDEV","_jsxDEV","magic","network","rpcUrl","process","env","REACT_APP_ALCHEMY_AMOY_URL","chainId","CONTRACT_ADDRESS","CONTRACT_ABI","MagicLogin","_s","user","setUser","email","setEmail","fullName","setFullName","age","setAge","gender","setGender","dob","setDob","aadharFile","setAadharFile","photoFile","setPhotoFile","isLoggedIn","userMetadata","getInfo","handleLogin","auth","loginWithEmailOTP","err","console","error","uploadFileToBackend","fileToUpload","fileType","formData","FormData","append","res","fetch","method","body","data","json","ok","log","ipfsHash","alert","registerIdentityOnContract","provider","BrowserProvider","rpcProvider","signer","getSigner","identityContract","Contract","headers","JSON","stringify","result","transactionHash","handleRegister","aadharIpfsHash","photoIpfsHash","identityData","name","parseInt","aadharHash","photoHash","userAddress","publicAddress","handleLogout","logout","children","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","value","onChange","e","target","style","padding","marginBottom","width","boxSizing","htmlFor","id","files","onClick","marginRight","_c","$RefreshReg$"],"sources":["/Users/amritareji/Desktop/base3/frontend2/react-frontend/src/MagicLogin.js"],"sourcesContent":["// magiclogin.js\nimport React, { useEffect, useState } from \"react\";\nimport { Magic } from \"magic-sdk\";\nimport { ethers } from \"ethers\"; // Import ethers for provider/signer\n\n// IMPORTANT: Replace with your actual Magic Test Key for development\n// For production, ensure pk_live_845610B169B276D7 is the correct production key.\n// For Amoy testnet, ensure you've configured Magic accordingly if not using direct RPC.\nconst magic = new Magic(\"pk_live_845610B169B276D7\", {\n  network: {\n    rpcUrl: process.env.REACT_APP_ALCHEMY_AMOY_URL, // Use env variable for Alchemy URL\n    chainId: 80002, // Amoy chain ID\n  },\n});\n\n// IMPORTANT: Replace with your deployed smart contract address\nconst CONTRACT_ADDRESS = \"YOUR_DEPLOYED_CONTRACT_ADDRESS_HERE\";\n// IMPORTANT: Replace with your contract ABI\n// You'll need to import your contract's ABI JSON artifact generated by Hardhat\n// Example: import IdentityABI from './artifacts/contracts/Identity.sol/Identity.json';\n// For now, I'll just put a placeholder for structure.\nconst CONTRACT_ABI = [\n  // Example ABI entries - REPLACE WITH YOUR ACTUAL ABI\n  \"function registerIdentity(string _name, uint256 _age, string _gender, string _dob, string _aadharHash, string _photoHash) public\",\n  \"function getIdentity(address userAddress) public view returns (string, uint256, string, string, string, string)\",\n  // Add other functions if needed\n];\n\n\nfunction MagicLogin() {\n  const [user, setUser] = useState(null);\n  const [email, setEmail] = useState(\"\");\n\n  // New state variables for user details\n  const [fullName, setFullName] = useState(\"\");\n  const [age, setAge] = useState(\"\");\n  const [gender, setGender] = useState(\"\");\n  const [dob, setDob] = useState(\"\"); // Date of Birth\n\n  // File states\n  const [aadharFile, setAadharFile] = useState(null);\n  const [photoFile, setPhotoFile] = useState(null);\n\n  useEffect(() => {\n    (async () => {\n      const isLoggedIn = await magic.user.isLoggedIn();\n      if (isLoggedIn) {\n        const userMetadata = await magic.user.getInfo();\n        setUser(userMetadata);\n      }\n    })();\n  }, []);\n\n  const handleLogin = async () => {\n    try {\n      await magic.auth.loginWithEmailOTP({ email });\n      const userMetadata = await magic.user.getInfo();\n      setUser(userMetadata);\n    } catch (err) {\n      console.error(\"Login error:\", err);\n    }\n  };\n\n  // Generic upload function for Aadhar or Photo\n  const uploadFileToBackend = async (fileToUpload, fileType) => {\n    const formData = new FormData();\n    formData.append(\"file\", fileToUpload);\n    formData.append(\"fileType\", fileType); // Add a type identifier\n\n    try {\n      const res = await fetch(\"http://localhost:5001/upload\", {\n        method: \"POST\",\n        body: formData,\n      });\n\n      const data = await res.json();\n      if (res.ok) {\n        console.log(`📦 ${fileType} IPFS Hash from backend:`, data.ipfsHash);\n        return data.ipfsHash;\n      } else {\n        console.error(`❌ Backend error uploading ${fileType}:`, data.error);\n        alert(`❌ Failed to upload ${fileType}.`);\n        return null;\n      }\n    } catch (err) {\n      console.error(`❌ Error uploading ${fileType} to backend:`, err);\n      return null;\n    }\n  };\n\n  const registerIdentityOnContract = async (data) => {\n    try {\n        // Get the provider from Magic\n        const provider = new ethers.BrowserProvider(magic.rpcProvider);\n        // Get the signer (user's Magic wallet)\n        const signer = await provider.getSigner();\n        // Create a contract instance with the signer\n        const identityContract = new ethers.Contract(CONTRACT_ADDRESS, CONTRACT_ABI, signer);\n\n        // Call the smart contract function\n        // Note: For actual gasless transactions via a relayer, this part\n        // might look different, potentially involving an EIP-2771 trusted forwarder setup\n        // or a custom backend that signs and sends.\n        // For simplicity here, we're assuming the Magic wallet directly sends the tx,\n        // or your server's /register endpoint will handle true gasless.\n        // Given your setup, your `server.js`'s `/register` endpoint *should*\n        // be the one interacting with the contract using *your* private key for gas.\n        // So, this frontend part would primarily send the data to the backend.\n\n        // If your server is handling gas, you don't call contract directly here.\n        // Instead, send all data to the backend for the server to handle the contract call.\n        const res = await fetch(\"http://localhost:5001/register\", {\n            method: \"POST\",\n            headers: { \"Content-Type\": \"application/json\" },\n            body: JSON.stringify(data),\n        });\n\n        const result = await res.json();\n        if (res.ok) {\n            alert(\"✅ Identity successfully registered on-chain!\");\n            console.log(\"Transaction Hash:\", result.transactionHash);\n        } else {\n            console.error(\"❌ Backend error during contract registration:\", result.error);\n            alert(\"❌ Failed to register identity on-chain.\");\n        }\n\n    } catch (err) {\n        console.error(\"❌ Error registering identity on contract via backend:\", err);\n        alert(\"❌ Error registering identity on contract.\");\n    }\n  };\n\n\n  const handleRegister = async () => {\n    if (!fullName || !age || !gender || !dob || !aadharFile || !photoFile) {\n      alert(\"Please fill in all details and upload both Aadhar and Photo.\");\n      return;\n    }\n\n    // Upload Aadhar\n    const aadharIpfsHash = await uploadFileToBackend(aadharFile, \"aadhar\");\n    if (!aadharIpfsHash) return;\n\n    // Upload Photo\n    const photoIpfsHash = await uploadFileToBackend(photoFile, \"photo\");\n    if (!photoIpfsHash) return;\n\n    // Prepare data to send to backend for contract interaction\n    const identityData = {\n      name: fullName,\n      age: parseInt(age), // Ensure age is a number\n      gender,\n      dob,\n      aadharHash: aadharIpfsHash,\n      photoHash: photoIpfsHash,\n      userAddress: user.publicAddress // Pass the user's Magic wallet address\n    };\n\n    await registerIdentityOnContract(identityData);\n  };\n\n  const handleLogout = async () => {\n    await magic.user.logout();\n    setUser(null);\n    setEmail(\"\");\n    setFullName(\"\");\n    setAge(\"\");\n    setGender(\"\");\n    setDob(\"\");\n    setAadharFile(null);\n    setPhotoFile(null);\n  };\n\n  if (user) {\n    return (\n      <div>\n        <p><strong>Logged in as:</strong> {user.email}</p>\n        <p><strong>Public Address:</strong> {user.publicAddress}</p>\n\n        <h2>Register Your Identity</h2>\n        <input\n          type=\"text\"\n          placeholder=\"Full Name\"\n          value={fullName}\n          onChange={(e) => setFullName(e.target.value)}\n          style={{ padding: \"8px\", marginBottom: \"8px\", width: \"100%\", boxSizing: \"border-box\" }}\n        /><br />\n        <input\n          type=\"number\"\n          placeholder=\"Age\"\n          value={age}\n          onChange={(e) => setAge(e.target.value)}\n          style={{ padding: \"8px\", marginBottom: \"8px\", width: \"100%\", boxSizing: \"border-box\" }}\n        /><br />\n        <input\n          type=\"text\"\n          placeholder=\"Gender\"\n          value={gender}\n          onChange={(e) => setGender(e.target.value)}\n          style={{ padding: \"8px\", marginBottom: \"8px\", width: \"100%\", boxSizing: \"border-box\" }}\n        /><br />\n        <input\n          type=\"date\"\n          placeholder=\"Date of Birth\"\n          value={dob}\n          onChange={(e) => setDob(e.target.value)}\n          style={{ padding: \"8px\", marginBottom: \"8px\", width: \"100%\", boxSizing: \"border-box\" }}\n        /><br />\n\n        <label htmlFor=\"aadhar-upload\">Upload Aadhar (File):</label>\n        <input\n          type=\"file\"\n          id=\"aadhar-upload\"\n          onChange={(e) => setAadharFile(e.target.files[0])}\n          style={{ padding: \"8px\", marginBottom: \"8px\", width: \"100%\", boxSizing: \"border-box\" }}\n        /><br />\n\n        <label htmlFor=\"photo-upload\">Upload Photo (File):</label>\n        <input\n          type=\"file\"\n          id=\"photo-upload\"\n          onChange={(e) => setPhotoFile(e.target.files[0])}\n          style={{ padding: \"8px\", marginBottom: \"8px\", width: \"100%\", boxSizing: \"border-box\" }}\n        /><br />\n\n        <button onClick={handleRegister} style={{ marginRight: \"8px\", padding: \"10px 15px\" }}>\n          Register Identity\n        </button>\n        <button onClick={handleLogout} style={{ padding: \"10px 15px\" }}>Logout</button>\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      <input\n        type=\"email\"\n        placeholder=\"Enter your email\"\n        value={email}\n        onChange={(e) => setEmail(e.target.value)}\n        style={{ padding: \"8px\", marginRight: \"8px\", width: \"calc(100% - 120px)\" }}\n      />\n      <button onClick={handleLogin} style={{ padding: \"8px 15px\" }}>Login with Magic Link</button>\n    </div>\n  );\n}\n\nexport default MagicLogin;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}